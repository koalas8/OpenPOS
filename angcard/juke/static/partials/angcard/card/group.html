<div>
    <!-- BEGIN PAGE HEADER-->
    <div class="row">
        <div class="col-md-12">
            <!-- BEGIN PAGE TITLE & BREADCRUMB-->
            <h3 class="page-title">
                卡分组
                <small>Cards</small>  
                <div class="pull-right">
                    <button class="btn btn-primary" ng-show="root.menu.show('00804')" ng-click="setAction('add')">添加分组</button>
                    <button class="btn btn-primary" ng-show="root.menu.show('')" ng-click="setAction('set')">设置卡分组</button>
                    <button class="btn btn-primary" ng-show="root.menu.show('00806')" ng-click="showList(query.page)">列表</button>
                    <button class="btn btn-primary" ng-show="root.menu.show('00806')" ng-click="setAction('search')">查询</button>
                </div>              
            </h3>
            <!-- END PAGE TITLE & BREADCRUMB-->
        </div>
    </div>
    <!-- END PAGE HEADER-->
    

    <div class="portlet box blue" ng-show="menu.action=='search'">
        <div class="portlet-title">
            <div class="caption">
                <i class="icon-reorder"></i>
                查询卡分组信息
            </div>
        </div>
        <div class="portlet-body form">
            <!-- BEGIN FORM-->
            <form class="form-horizontal" ng-submit="showList(query.page)">
                <div class="form-body">
                    <div class="form-group">
                        <label class="col-md-3 control-label">分组名称</label>

                        <div class="col-md-4">
                            <input type="text" ng-model="query.keyword" class="form-control" placeholder="输入分组名称">
                        </div>
                    </div>                    
                </div>
                <div class="form-actions fluid">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn blue">确定</button>
                        <button type="button" class="btn default" ng-click="setAction('list')">取消</button>
                    </div>
                </div>
            </form>
            <!-- END FORM-->
        </div>
    </div>


    <div class="row" ng-show="menu.action=='list'">
        <div class="col-md-12">
            <table class="table table-striped table-bordered">
                <thead>
                <tr>
                    <th width="50">序号</th>
                    <th>分组名称</th>
                    <th>状态</th>                    
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="group in groupStore.data">
                    <td>{{(groupStore.page - 1) * groupStore.limit + $index + 1}}</td>
                    <td>{{group.group_name}}</td>
                    <td>{{group.status | statusToHanZi}}</td>
                </tr>
                </tbody>
            </table>
            <paginator></paginator>
        </div>
    </div>  


    <div class="portlet box blue" ng-show="menu.action=='set'">
        <div class="portlet-title">
            <div class="caption">
                <i class="icon-reorder"></i>
                设置卡分组
            </div>
        </div>
        <div class="portlet-body form">
            <!-- BEGIN FORM-->
            <form class="form-horizontal" ng-submit="set(cardGroup)">
                <div class="form-body">
                    <div class="form-group">
                        <label class="col-md-3 control-label">起始卡号</label>

                        <div class="col-md-4">
                            <input type="text" name="start_card_no" ng-model="cardGroup.start_card_no" class="form-control" placeholder="输入起始卡号">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 control-label">终止卡号</label>

                        <div class="col-md-4">
                            <input type="text" name="end_card_no" ng-model="cardGroup.end_card_no" class="form-control" placeholder="输入终止卡号">
                        </div>
                    </div> 
                    <div class="form-group">
                        <label class="col-md-3 control-label">所属分组</label>

                        <div class="col-md-4">
                            <select class="form-control" ng-model="cardGroup.group_id" 
                                    ng-options="g.id as g.group_name for g in groupStore.data"></select>
                            <a href="javascript:;" ng-click="setAction('add')">无合适分组?点此添加</a>
                        </div>
                    </div>                    
                </div>
                <div class="form-actions fluid">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn blue">确定</button>
                        <button type="button" class="btn default" ng-click="setAction('list')">取消</button>
                    </div>
                </div>
            </form>
            <!-- END FORM-->
        </div>
    </div> 


    <div class="portlet box blue" ng-show="menu.action=='add'">
        <div class="portlet-title">
            <div class="caption">
                <i class="icon-reorder"></i>
                添加分组
            </div>
        </div>
        <div class="portlet-body form">
            <!-- BEGIN FORM-->
            <form class="form-horizontal" ng-submit="add(group)">
                <div class="form-body">
                    <div class="form-group">
                        <label class="col-md-3 control-label">分组名称</label>

                        <div class="col-md-4">
                            <input type="text" name="group_name" ng-model="group.group_name" class="form-control" placeholder="输入分组名称">
                        </div>
                    </div>                    
                </div>
                <div class="form-actions fluid">
                    <div class="col-md-offset-3 col-md-9">
                        <button type="submit" class="btn blue">确定</button>
                        <button type="button" class="btn default" ng-click="setAction('list')">取消</button>
                    </div>
                </div>
            </form>
            <!-- END FORM-->
        </div>
    </div> 

</div>